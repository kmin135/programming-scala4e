# 선형화 - 다중상속과의 차이점

* 트레이트와 다중 상속의 중요한 차이점은 super의 해석 방법
* 다중 상속 언어에서는 super 를 호출할 때 어떤 메서드를 부를지에 대한 결정은 호출하는 곳에서 컴파일타임에 이루어진다.
* 트레이트는 특정 클래스에 믹스인한 클래스와 트레이트를 선형화해서 어떤 메서드를 호출할지 결정한다.
    * 이 차이점이 쌓을 수 있는 변경을 가능하게 한다.

```scala
// 클래스, 트레이트의 상속 계층 예제와 각 예제별 타입의 선형화

// A, AnyRef, Any
class A
// B, A, AnyRef, Any
trait B extends A
// C, A, AnyRef, Any
trait C extends A
// D, C, A, AnyRef, Any
trait D extends C
// Z, D, C, B, A, AnyRef, Any
class Z extends A with B with D

/*
위의 어느 클래스나 트레이트에서 super 를 이용해 메서드를 호출하면
선형화 순서상 자기보다 바로 오른쪽에 있는 첫 번째 구현을 호출한다.
 */
```


# 트레이트 vs 추상 클래스 선택 가이드

* 재사용 가능한 행위를 구현할 때 둘 중 뭘 사용할지 고민되다면 아래 가이드를 참고하자

---

* 어떤 행위를 재사용하지 않을 거라면 -> 추상 클래스
  * 어쨋든 재사용 대상이 아니므로
* 서로 관련 없는 클래스에서 어떤 행위를 여러 번 재사용 해야한다면 -> 트레이트
  * 클래스 계층의 각기 다른 부분에 믹스인할 수 있는 것은 트레이트뿐
* 스칼라에서 정의한 내용을 자바에서 상속해야한다면 -> 추상 클래스
* 컴파일한 바이너리 형태로 배포할 것이고 누군가 상속해서 사용할 것 같다면 -> 추상 클래스가 더 유리
  * 트레이트는 멤버를 추가하면 그 트레이트를 상속한 모든 클래스도 자신의 변경여부와 관계없이 재컴파일이 필요하다.
  * 트레이트를 상속하지 않고 호출만 한다면 이런 문제는 없다.
* 잘 모르겠으면 -> 트레이트
  * 트레이트가 일반적으로 더 유연하다.